{
  "version": 3,
  "sources": ["../../../../node_modules/vuepress-plugin-comment2/src/client/components/Giscus.ts", "dep:@CommentProvider"],
  "sourcesContent": ["import { usePageFrontmatter, usePageLang, withBase } from \"@vuepress/client\";\nimport { computed, defineComponent, h, onMounted, ref } from \"vue\";\nimport { useRoute } from \"vue-router\";\n\nimport type { VNode } from \"vue\";\nimport type {\n  CommentPluginFrontmatter,\n  GiscusInputPosition,\n  GiscusMapping,\n  GiscusOptions,\n  GiscusRepo,\n  GiscusTheme,\n} from \"../../shared/index.js\";\n\nimport \"../styles/giscus.scss\";\n\ndeclare const COMMENT_OPTIONS: GiscusOptions;\n\ntype BooleanString = \"0\" | \"1\";\n\nexport type GiscusLang =\n  | \"de\"\n  | \"gsw\"\n  | \"en\"\n  | \"es\"\n  | \"fr\"\n  | \"id\"\n  | \"it\"\n  | \"ja\"\n  | \"ko\"\n  | \"pl\"\n  | \"ro\"\n  | \"ru\"\n  | \"tr\"\n  | \"vi\"\n  | \"zh-CN\"\n  | \"zh-TW\";\n\nexport type GiscusLoading = \"lazy\" | \"eager\";\n\nexport interface GiscusProps {\n  id?: string | undefined;\n  repo: GiscusRepo;\n  repoId: string;\n  category?: string | undefined;\n  categoryId?: string | undefined;\n  mapping: GiscusMapping;\n  term?: string | undefined;\n  theme?: GiscusTheme | undefined;\n  reactionsEnabled?: BooleanString | undefined;\n  strict?: BooleanString | undefined;\n  emitMetadata?: BooleanString | undefined;\n  inputPosition?: GiscusInputPosition | undefined;\n  lang?: GiscusLang | undefined;\n  loading?: GiscusLoading | undefined;\n}\n\nconst giscusOption = COMMENT_OPTIONS;\nconst enableGiscus = Boolean(\n  giscusOption.repo &&\n    giscusOption.repoId &&\n    giscusOption.category &&\n    giscusOption.categoryId\n);\n\nconst SUPPORTED_LANGUAGES: GiscusLang[] = [\n  \"de\",\n  \"gsw\",\n  \"en\",\n  \"es\",\n  \"fr\",\n  \"id\",\n  \"it\",\n  \"ja\",\n  \"ko\",\n  \"pl\",\n  \"ro\",\n  \"ru\",\n  \"vi\",\n  \"zh-CN\",\n  \"zh-TW\",\n];\n\nexport default defineComponent({\n  name: \"GiscusComment\",\n\n  props: {\n    darkmode: Boolean,\n  },\n\n  setup(props) {\n    const frontmatter = usePageFrontmatter<CommentPluginFrontmatter>();\n    const route = useRoute();\n    const loaded = ref(false);\n\n    const giscusLang = computed(() => {\n      const lang = usePageLang().value as GiscusLang;\n\n      if (SUPPORTED_LANGUAGES.includes(lang)) return lang;\n\n      const shortCode = lang.split(\"-\")[0] as GiscusLang;\n\n      if (SUPPORTED_LANGUAGES.includes(shortCode)) return shortCode;\n\n      return \"en\";\n    });\n\n    const enableComment = computed(() => {\n      if (!enableGiscus) return false;\n      const pluginConfig = giscusOption.comment !== false;\n      const pageConfig = frontmatter.value.comment;\n\n      return (\n        // Enable in page\n        Boolean(pageConfig) ||\n        // not disabled in anywhere\n        (pluginConfig !== false && pageConfig !== false)\n      );\n    });\n\n    const config = computed<GiscusProps>(() => ({\n      repo: giscusOption.repo,\n      repoId: giscusOption.repoId,\n      category: giscusOption.category,\n      categoryId: giscusOption.categoryId,\n      lang: giscusLang.value,\n      theme: props.darkmode\n        ? giscusOption.darkTheme ?? \"dark\"\n        : giscusOption.lightTheme ?? \"light\",\n      mapping: giscusOption.mapping || \"pathname\",\n      term: withBase(route.path),\n      inputPosition: giscusOption.inputPosition || \"top\",\n      reactionsEnabled: giscusOption.reactionsEnabled !== false ? \"1\" : \"0\",\n      strict: giscusOption.strict !== false ? \"1\" : \"0\",\n      emitMetadata: \"0\",\n    }));\n\n    onMounted(async () => {\n      await import(\"giscus\");\n      loaded.value = true;\n    });\n\n    return (): VNode =>\n      h(\n        \"div\",\n        {\n          class: [\n            \"giscus-wrapper\",\n            { \"input-top\": giscusOption.inputPosition !== \"bottom\" },\n          ],\n          style: {\n            display: enableComment.value ? \"block\" : \"none\",\n          },\n        },\n        loaded.value\n          ? h(\"giscus-widget\", config.value)\n          : h(\"div\", { style: \"text-align:center\" }, \"Loading...\")\n      );\n  },\n});\n", "import d from \"../../../../node_modules/vuepress-plugin-comment2/lib/client/components/Giscus.js\";export default d;"],
  "mappings": ";;;;;;;;;;;;;;;;;;;AAyDA,IAAMA,IAAe;AAArB,IACMC,IAAe,QACnBD,EAAa,QACXA,EAAa,UACbA,EAAa,YACbA,EAAa,UACjB;AANA,IAQME,IAAoC,CACxC,MACA,OACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,SACA,OACF;AAEA,IAAAC,IAAeC,gBAAgB,EAC7B,MAAM,iBAEN,OAAO,EACL,UAAU,QACZ,GAEA,MAAMC,GAAO;AACX,QAAMC,QAAcC,eAAAA,oBAAAA,GACdC,IAAQC,SAAS,GACjBC,IAASC,IAAI,KAAK,GAElBC,IAAaC,SAAS,MAAM;AAChC,UAAMC,QAAOC,eAAAA,aAAY,EAAE;AAE3B,QAAIb,EAAoB,SAASY,CAAI;AAAG,aAAOA;AAE/C,UAAME,IAAYF,EAAK,MAAM,GAAG,EAAE;AAElC,WAAIZ,EAAoB,SAASc,CAAS,IAAUA,IAE7C;EACT,CAAC,GAEKC,IAAgBJ,SAAS,MAAM;AACnC,QAAI,CAACZ;AAAc,aAAO;AAC1B,UAAMiB,IAAelB,EAAa,YAAY,OACxCmB,IAAab,EAAY,MAAM;AAErC,WAEE,QAAQa,CAAU,KAEjBD,MAAiB,SAASC,MAAe;EAE9C,CAAC,GAEKC,IAASP,SAAsB,MAAA;;AAAO,aAC1C,MAAMb,EAAa,MACnB,QAAQA,EAAa,QACrB,UAAUA,EAAa,UACvB,YAAYA,EAAa,YACzB,MAAMY,EAAW,OACjB,OAAOP,EAAM,YACTL,OAAa,cAAbA,YAA0B,UAC1BA,OAAa,eAAbA,YAA2B,SAC/B,SAASA,EAAa,WAAW,YACjC,UAAMqB,eAAAA,UAASb,EAAM,IAAI,GACzB,eAAeR,EAAa,iBAAiB,OAC7C,kBAAkBA,EAAa,qBAAqB,QAAQ,MAAM,KAClE,QAAQA,EAAa,WAAW,QAAQ,MAAM,KAC9C,cAAc,IAChB;GAAE;AAEF,SAAAsB,UAAU,YAAY;AACpB,UAAM,OAAO,yBACbZ,EAAO,QAAQ;EACjB,CAAC,GAEM,MACLa,EACE,OACA,EACE,OAAO,CACL,kBACA,EAAE,aAAavB,EAAa,kBAAkB,SAAS,CACzD,GACA,OAAO,EACL,SAASiB,EAAc,QAAQ,UAAU,OAC3C,EACF,GACAP,EAAO,QACHa,EAAE,iBAAiBH,EAAO,KAAK,IAC/BG,EAAE,OAAO,EAAE,OAAO,oBAAoB,GAAG,YAAY,CAC3D;AACJ,EACF,CAAC;;;AC/JiG,IAAO,0BAAQ;",
  "names": ["giscusOption", "enableGiscus", "SUPPORTED_LANGUAGES", "Giscus", "defineComponent", "props", "frontmatter", "usePageFrontmatter", "route", "useRoute", "loaded", "ref", "giscusLang", "computed", "lang", "usePageLang", "shortCode", "enableComment", "pluginConfig", "pageConfig", "config", "withBase", "onMounted", "h"]
}
